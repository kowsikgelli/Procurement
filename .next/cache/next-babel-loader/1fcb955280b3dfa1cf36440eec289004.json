{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport instance from '../../../ethereum/tender';\nimport web3 from '../../../ethereum/web3';\nimport { Card } from 'semantic-ui-react';\nimport Layout from '../../../components/Layout';\n\nclass showBids extends React.Component {\n  static async getInitialProps(props) {\n    const bidCount = await instance.methods.bidCount().call();\n    let bids = [];\n\n    for (let i = 1; i <= bidCount; i++) {\n      const bid = await instance.methods.Bids(i).call();\n      let singleTenderId = bid.tenderId;\n      console.log(\"pl:\" + props.query.id);\n      console.log(\"sl:\" + singleTenderId);\n\n      if (singleTenderId == props.query.id) {\n        console.log(\"hello\");\n        let singlebid = '';\n        singleBid = singlebid + (await instance.methods.viewBids(props.query.id).call());\n        bids.push(singleBid);\n      }\n    }\n\n    return {\n      bids\n    };\n  }\n\n  renderBids() {\n    const items = this.props.bids.map(bidobject => {\n      return {\n        header: bidobject.bidder,\n        description: bidobject.bidValue,\n        meta: \" Bid Hash:\" + bidobject.fileHash,\n        fluid: true\n      };\n    });\n    return __jsx(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    return __jsx(Layout, null, __jsx(\"h3\", null, \"submitted Bids\"), this.renderBids());\n  }\n\n}\n\nexport default showBids;","map":{"version":3,"sources":["/home/kowsik/Desktop/procurement/pages/tenders/viewBids/showBids.js"],"names":["React","instance","web3","Card","Layout","showBids","Component","getInitialProps","props","bidCount","methods","call","bids","i","bid","Bids","singleTenderId","tenderId","console","log","query","id","singlebid","singleBid","viewBids","push","renderBids","items","map","bidobject","header","bidder","description","bidValue","meta","fileHash","fluid","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAAQC,IAAR,QAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;;AACA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAsC;AACrC,eAAaC,eAAb,CAA6BC,KAA7B,EAAmC;AAClC,UAAMC,QAAQ,GAAE,MAAMR,QAAQ,CAACS,OAAT,CAAiBD,QAAjB,GAA4BE,IAA5B,EAAtB;AACA,QAAIC,IAAI,GAAC,EAAT;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAEJ,QAAf,EAAwBI,CAAC,EAAzB,EAA4B;AAC3B,YAAMC,GAAG,GAAC,MAAMb,QAAQ,CAACS,OAAT,CAAiBK,IAAjB,CAAsBF,CAAtB,EAAyBF,IAAzB,EAAhB;AACA,UAAIK,cAAc,GAACF,GAAG,CAACG,QAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAMX,KAAK,CAACY,KAAN,CAAYC,EAA9B;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAMH,cAAlB;;AACA,UAAGA,cAAc,IAAER,KAAK,CAACY,KAAN,CAAYC,EAA/B,EAAkC;AACjCH,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,YAAIG,SAAS,GAAC,EAAd;AACAC,QAAAA,SAAS,GAACD,SAAS,IAAC,MAAMrB,QAAQ,CAACS,OAAT,CAAiBc,QAAjB,CAA0BhB,KAAK,CAACY,KAAN,CAAYC,EAAtC,EAA0CV,IAA1C,EAAP,CAAnB;AAEAC,QAAAA,IAAI,CAACa,IAAL,CAAUF,SAAV;AACA;AACD;;AACD,WAAM;AAACX,MAAAA;AAAD,KAAN;AACA;;AACDc,EAAAA,UAAU,GAAE;AACX,UAAMC,KAAK,GAAC,KAAKnB,KAAL,CAAWI,IAAX,CAAgBgB,GAAhB,CAAoBC,SAAS,IAAE;AAC1C,aAAM;AACLC,QAAAA,MAAM,EAACD,SAAS,CAACE,MADZ;AAELC,QAAAA,WAAW,EAACH,SAAS,CAACI,QAFjB;AAGLC,QAAAA,IAAI,EAAC,eAAaL,SAAS,CAACM,QAHvB;AAILC,QAAAA,KAAK,EAAC;AAJD,OAAN;AAMA,KAPW,CAAZ;AAQA,WAAO,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,KAAK,EAAET;AAAnB,MAAP;AACA;;AACDU,EAAAA,MAAM,GAAE;AACP,WACC,MAAC,MAAD,QACC,mCADD,EAEE,KAAKX,UAAL,EAFF,CADD;AAMA;;AArCoC;;AAuCtC,eAAerB,QAAf","sourcesContent":["import React from 'react';\nimport instance from '../../../ethereum/tender'\nimport web3 from '../../../ethereum/web3';\nimport {Card} from 'semantic-ui-react';\nimport Layout from '../../../components/Layout';\nclass showBids extends React.Component{\n\tstatic async getInitialProps(props){\n\t\tconst bidCount= await instance.methods.bidCount().call();\n\t\tlet bids=[]\n\t\tfor(let i=1;i<=bidCount;i++){\n\t\t\tconst bid=await instance.methods.Bids(i).call();\n\t\t\tlet singleTenderId=bid.tenderId;\n\t\t\tconsole.log(\"pl:\"+props.query.id)\n\t\t\tconsole.log(\"sl:\"+singleTenderId)\n\t\t\tif(singleTenderId==props.query.id){\n\t\t\t\tconsole.log(\"hello\")\n\t\t\t\tlet singlebid=''\n\t\t\t\tsingleBid=singlebid+await instance.methods.viewBids(props.query.id).call();\n\t\t\t\t\n\t\t\t\tbids.push(singleBid);\n\t\t\t}\n\t\t}\n\t\treturn{bids}\n\t}\n\trenderBids(){\n\t\tconst items=this.props.bids.map(bidobject=>{\n\t\t\treturn{\n\t\t\t\theader:bidobject.bidder,\n\t\t\t\tdescription:bidobject.bidValue,\n\t\t\t\tmeta:\" Bid Hash:\"+bidobject.fileHash,\n\t\t\t\tfluid:true\n\t\t\t}\n\t\t})\n\t\treturn <Card.Group items={items} />\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<Layout>\n\t\t\t\t<h3>submitted Bids</h3>\n\t\t\t\t{this.renderBids()}\n\t\t\t</Layout>\n\t\t\t)\n\t}\n}\nexport default showBids;"]},"metadata":{},"sourceType":"module"}