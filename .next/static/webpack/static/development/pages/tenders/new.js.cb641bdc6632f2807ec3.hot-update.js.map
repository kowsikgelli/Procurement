{"version":3,"file":"static/webpack/static/development/pages/tenders/new.js.cb641bdc6632f2807ec3.hot-update.js","sources":["webpack:///./pages/tenders/new.js"],"sourcesContent":["import React from 'react';\nimport Layout from '../../components/Layout'\nimport {Form,Button,Message} from 'semantic-ui-react'\nimport instance from '../../ethereum/tender';\nimport web3 from '../../ethereum/web3';\nimport {Router} from '../../routes'\nclass newTender extends React.Component{\n\tstate = {\n    \tstartDate: new Date(),\n    \ttenderSubject:'',\n    \ttenderType:'',\n    \ttenderRecevingLocation:'',\n    \tmaxBidValue:'',\n    \terrorMessage:'',\n    \tloading:false\n  \t};\n  \thandleChange = date => {\n    \tthis.setState({\n      \tstartDate: date.target.value\n    \t});\n    \tconsole.log(\"selected date\"+this.state.startDate+\" \"+date.target.value)\n\t};\n\tonSubmit=async(event)=>{\n\t\tevent.preventDefault();\n\t\tthis.setState({loading:true,errorMessage:''});\n\t\ttry{\n      console.log(this.state.startDate)\n\t\t\tconst accounts=await web3.eth.getAccounts();\n\t\t\tconsole.log(accounts)\n\t\t\tconst d = new Date(this.state.startDate);\n      let closingDate=d.getTime()*0.001;\n      console.log(d.getTime()*0.001)\n\t\t\tawait instance.methods.createTender(this.state.tenderType,this.state.tenderSubject,this.state.tenderRecevingLocation,closingDate,this.state.maxBidValue)\n\t\t\t.send({\n\t\t\t\tfrom:accounts[0]\n\t\t\t});\n\t\t\tRouter.pushRoute('/');\n\t\t}catch(err){\n\t\t\tthis.setState({errorMessage:err.message})\n\t\t}\n\t\tthis.setState({loading:false})\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<Layout>\n      <Message error\n            header='Sorry :( This Page can be accessed by admin only'\n            content='Even if you try to create Tender you will get error'\n            \n          />\n\t\t\t\t<Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n    \t\t\t\t<Form.Field>\n      \t\t\t\t\t<label>Tender Subject</label>\n      \t\t\t\t\t<input placeholder='Tender Subject' value={this.state.tenderSubject} onChange={event => this.setState({tenderSubject:event.target.value})} />\n    \t\t\t\t</Form.Field>\n    \t\t\t\t<Form.Field>\n      \t\t\t\t\t<label>Tender Type</label>\n      \t\t\t\t\t<input placeholder='Tender Type' value={this.state.tenderType} onChange={event => this.setState({tenderType:event.target.value})}/>\n    \t\t\t\t</Form.Field>\n    \t\t\t\t<Form.Field>\n      \t\t\t\t\t<label>Tender Receving Location</label>\n      \t\t\t\t\t<input placeholder='Tender Receving Location' value={this.state.tenderRecevingLocation} onChange={event=> this.setState({tenderRecevingLocation:event.target.value})} />\n    \t\t\t\t</Form.Field>\n    \t\t\t\t<Form.Field>\n      \t\t\t\t\t<label>Max Bid Value</label>\n      \t\t\t\t\t<input placeholder='Max Bid Value' value={this.state.maxBidValue} onChange={event => this.setState({maxBidValue:event.target.value})}/>\n    \t\t\t\t</Form.Field>\n    \t\t\t\t<Form.Field>\n    \t\t\t\t\t<label>tender closing date</label>\n    \t\t\t\t\t<input type=\"date\" onChange={this.handleChange} value={this.state.startDate}/>\n    \t\t\t\t</Form.Field>\n    \t\t\t\t<Message error header=\"Oops!!\" content={this.state.errorMessage} />\n    \t\t\t\t<Button loading={this.state.loading} primary type='submit'>Submit</Button>\n  \t\t\t\t</Form>\n\t\t\t</Layout>\n\t\t\t)\n\t}\n\t}\n\nexport default newTender;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AAQA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;AAIA;AAJA;AAAA;AACA;AADA;AAKA;AACA;AACA;AACA;AACA;AATA;AAAA;AAYA;AADA;AACA;AAZA;AAcA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAeA;AAAA;AAAA;AACA;AAjBA;AAkBA;AAAA;AAAA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAmBA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;;;;AAtEA;AACA;AAwEA;;;;A","sourceRoot":""}